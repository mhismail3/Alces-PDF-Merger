# Delivery guide (supersedes 2025-11-22-Styling-Guide.md and 2025-11-23 00-33-34 - Pages-Base-Path.md)

- Diff: Combines the full styling system and the Pages base-path lesson into one delivery guide so design and deployment guardrails stay together.
- Rationale: Single source of truth prevents regressions like broken custom-domain assets and keeps the retro-futuristic styling intact across changes.

## Deployment / Pages
- Always set Vite `base` from `VITE_BASE_PATH` (preferred) or `GITHUB_REPOSITORY` fallback, and normalize with leading/trailing slashes plus root fallback (`'/'`).
- In GitHub Pages workflows, use `actions/configure-pages@v5` and pass `steps.pages.outputs.base_path` into `VITE_BASE_PATH` so custom domains serve from `/` while repo-name Pages use `/{repo}/`.
- Before deploying, open `dist/index.html` and confirm asset URLs have the correct leading slash and subpath; mismatches cause 404s and blank screens on custom domains.
- Validation pattern: `npm run build` locally after base-path changes.

## Styling Guide: Retro-Futuristic Editorial

**Aesthetic:** Blend of Retro-Futuristic + Clean Editorial (serif UI, tactile buttons, cream textures, hard shadows).

### Color Palette
- Cream `#f8f3e8` (background), Ink `#1f1a14` (text/borders/shadows), Line `#e2d7c8` (dividers), Muted `#5b5249` (secondary).
- Accents: Aero `#2c8f7a` primary, Pine `#0f7363` hover, Clay `#c45b37` danger.
- Utility: White, Soft Teal `#e0f2f1` (success/info), Soft Orange `#fbe9e7` (warning/busy).

### Typography
- Headings: `DM Serif Display` (400/700); Body/UI: `Newsreader` (400–700).
- Scale: root line-height 1.6; h1 `clamp(3.2rem, 5vw, 4.2rem)`; h2 1.6rem; eyebrow 0.75rem uppercase letter-spacing 0.17em; label 0.75rem uppercase letter-spacing 0.15em.

### Tokens (Shadows/Borders)
- Retro Shadow `4px 4px 0px var(--ink)`; Retro Border `1.5px solid var(--ink)`; Thick Border `2px solid var(--ink)`.
- Radius small 6px (buttons/cards/inputs); Radius large 22px (main panels).
- Grain background: fixed overlay with multi-stop radial gradients on cream (see prior CSS snippet).

### Components
- Buttons: Newsreader, weight 600, radius small, transition 0.1s. Primary (Aero, white text, retro border/shadow; hover Pine + 2px translate/shadow; active 4px translate, no shadow). Outline: white bg/ink text/border/shadow. Ghost: subtle ink tint; hover adds border + white bg.
- Panels: linear-gradient glass, line border, radius 22px, soft shadow `0 20px 50px rgba(31, 26, 20, 0.08)`, backdrop blur 5px.
- Inputs: retro border/shadow; focus translate 2px + 2px shadow.
- Badges/Pills: retro border, radius small, shadow `2px 2px 0px rgba(31, 26, 20, 0.15)`, font 0.88rem.

### Interaction Physics
- Press Model: rest 4px shadow; hover translate(2px,2px) + 2px shadow (0.1s ease); active translate(4px,4px), shadow none. Translate equals shadow delta to keep perceived position.
- Focus Model (inputs): idle 4px shadow; focus translate 2px + 2px shadow.
- Draggables: `touch-action: none; user-select: none`; dragging state removes transitions, shadow ~3px, z-index >=2; release restores `transform 0.2s ease`.
- Micro buttons: scale down movement to 1px translate + 1px shadow on hover.

### Layout
- App shell: centered column with padding; split grid `1.15fr 1.85fr`, collapsing to single column <1100px; brand mark circular with white bg, 2px border, 4px hard shadow.

### Implementation Checklist
- Import Google Fonts (`DM Serif Display`, `Newsreader`).
- Define CSS variables (cream, ink, aero, pine, clay).
- Apply global reset (`box-sizing: border-box`).
- Add `.grain` background overlay.
- Enforce Press Model on all interactives (4px → 2px → 0px shadow/transform, 0.1s timing).
- Keep thumbnails constrained with `object-fit: contain` and explicit frame; prefer horizontal cards on mobile with tighter padding.
- Drag/delete UX: use `PointerSensor` with 5–8px activation; stop propagation on inline delete buttons to avoid drag start swallowing clicks.
- Forms: leave output filename input empty by default, placeholder only (e.g., “new-title”).
